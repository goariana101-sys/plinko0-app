<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Turbo Plinko</title>
    <link rel="stylesheet" href="css/plinko.css">
</head>
<body>

<header>
    <div class="header-left">
        <div class="volume-label">SOUND <span id="volValue">50%</span></div>
        <input type="range" min="0" max="1" step="0.1" value="0.5" class="volume-slider" oninput="setVolume(this.value)">
        <br>
        <button onclick="requestWithdrawal()" class="pill-btn-sm">Withdraw</button>
    </div>
    <div class="header-right">
        <div class="balance-container">$<span id="balanceDisplay">0.00</span></div>
        <button class="pill-btn-sm logout-btn" onclick="location.href='index.html'">Logout</button>
    </div>
</header>

<main class="game-container">
    <div class="history-container">
        <div class="history-title">RECENT WINS</div>
        <div id="winHistory" class="history-list"></div>
    </div>

    <canvas id="plinkoCanvas"></canvas>
    
    <div class="multiplier-labels">
        <div class="m-box">125</div><div class="m-box">14</div><div class="m-box">5</div>
        <div class="m-box">1.3</div><div class="m-box">0.4</div><div class="m-box">0.2</div>
        <div class="m-box">0.2</div><div class="m-box">0.4</div><div class="m-box">1.3</div>
        <div class="m-box">5</div><div class="m-box">14</div><div class="m-box">125</div>
    </div>

    <div class="bet-selector-vertical">
        <button class="bet-circle-btn" onclick="adjustBet(5)">+</button>
        <div class="bet-display-box" style="text-align: center;">
            <small class="bet-label">DISK COST</small>
            <div id="currentBetDisplay">$5</div>
        </div>
        <button class="bet-circle-btn" onclick="adjustBet(-5)">-</button>
    </div>

    <button class="drop-btn" onclick="dropDisk()">
        DROP DISKS <br>
        <small id="btnSubtext">bet amount $5.00</small>
    </button>
</main>

<div id="custom-popup">
    <div class="popup-content">
        <h2 style="color: var(--neon-cyan);">NOTICE</h2>
        <p id="popup-message"></p>
        <button onclick="closePopup()" class="popup-close-btn">UNDERSTOOD</button>
    </div>
</div>

<div id="cert-overlay">
    <div class="popup-content" style="border-color: var(--gold);">
        <h1 style="color: var(--neon-orange); margin: 0; font-size: 22px; letter-spacing: 2px;">OFFICIAL JACKPOT</h1>
        <p style="color: #888; font-size: 12px; margin: 10px 0;">AWARDED TO: <span id="cert-user" style="color: white; font-weight: bold;">USER</span></p>
        <div style="border: 1px dashed #333; padding: 15px; margin: 15px 0;">
            <p style="color: #555; font-size: 10px; margin: 0;">FOR THE AMOUNT OF:</p>
            <h2 style="color: var(--gold); font-size: 32px; margin: 5px 0;">$10,000.00!</h2>
            <p style="color: white; font-size: 11px;">Verification Required for Payout</p>
        </div>
        <button onclick="closeJackpot()" class="drop-btn" style="font-size: 14px; padding: 12px;">CLAIM WINNINGS</button>
    </div>
</div>

<div id="withdraw-gateway">
    <div class="popup-content">
        <h2 style="color: var(--neon-orange);">WITHDRAWAL MENU</h2>
        <p>Wallet Balance: <span id="gateBalance" style="color: var(--neon-cyan); font-weight: bold;">$0.00</span></p>
        
        <p style="font-size: 11px; color: #888; margin-bottom: 10px;">Select your preferred method:</p>
        <div style="display: flex; gap: 10px; justify-content: center; margin-bottom: 15px;">
            <button class="pill-btn-sm" onclick="selectMethod('Bank')">Bank Transfer</button>
            <button class="pill-btn-sm" onclick="selectMethod('Bitcoin')">Bitcoin BTC</button>
        </div>

        <div id="method-fields" style="display: none;">
            <textarea id="paymentDetails" placeholder="Enter Account Details or BTC Address..."></textarea>
            <button class="drop-btn" onclick="submitFinalWithdrawal()" style="font-size: 14px; padding: 12px;">COMPLETE WITHDRAWAL</button>
        </div>
    </div>
</div>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
<script src="js/firebase-config.js"></script>
<script src="js/games.js"></script>

</body>
</html>
